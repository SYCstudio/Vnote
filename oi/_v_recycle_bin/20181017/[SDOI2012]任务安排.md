# [SDOI2012]任务安排
[BZOJ2726]

机器上有N个需要处理的任务，它们构成了一个序列。这些任务被标号为1到N，因此序列的排列为1,2,3...N。这N个任务被分成若干批，每批包含相邻的若干任务。从时刻0开始，这些任务被分批加工，第i个任务单独完成所需的时间是Ti。在每批任务开始前，机器需要启动时间S，而完成这批任务所需的时间是各个任务需要时间的总和。注意，同一批任务将在同一时刻完成。每个任务的费用是它的完成时刻乘以一个费用系数Fi。请确定一个分组方案，使得总费用最小。

设 dp[i] 表示前 i 个任务的最小费用，则将 F,T 均前缀和后，有转移方程 dp[i]=min(dp[j]+(F[i]-F[j])T[i]+S(F[n]-F[j])) ，变形得到 dp[j]-SF[j]=T[i]F[j]+dp[i]-SF[n]-T[i]F[i] ，发现是斜率的形式，那么斜率优化之。因为 T 并不单调，所以